<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TractStack SysOp</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <style>
        :root {
            --color-bg: #21252b;
            --color-bg-sidebar: #282c34;
            --color-text-main: #abb2bf;
            --color-text-dim: #5c6370;
            --color-cyan: #56b6c2;
            --color-cyan-dim: #2F5B66;
            --color-cyan-bright: #61dafb;
            --color-logo: #c8df8c;
            --color-purple: #c678dd;
            --color-purple-dim: #8e579e;
            --color-green: #98c379;
            --color-yellow: #e5c07b;
            --color-red: #e06c75;
            --color-white-bright: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Source Code Pro', monospace;
            background: var(--color-bg);
            color: var(--color-text-main);
            font-size: 14px;
            line-height: 1.4;
            overflow-x: hidden;
            min-height: 100vh;
        }
        
        pre {
            font-family: inherit;
            white-space: pre;
        }

        #app-wrapper {
            display: none;
            min-width: 800px;
        }

        .bbs-container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .logo-bar {
            background: transparent;
            text-align: center;
            padding-top: 20px;
            padding-bottom: 5px;
        }
        
        .logo-bar pre.logo {
            padding: 0;
            margin: 0;
            color: var(--color-logo);
            font-size: 18px;
            line-height: 1.2;
            letter-spacing: -1px;
        }
        
        .attribution {
            color: var(--color-text-dim);
            font-size: 11px;
            margin-top: 5px;
            padding-bottom: 10px;
        }
        
        .main-area {
            display: flex;
            flex: 1;
            padding: 0 20px;
        }

        .sidebar {
            width: 200px;
            padding: 15px 10px;
        }

        .tab-menu {
            color: var(--color-cyan-dim);
            font-weight: bold;
            margin-bottom: 10px;
        }

        .tab-item {
            color: var(--color-text-dim);
            cursor: pointer;
            padding: 4px 0;
            transition: color 0.2s;
        }

        .tab-item:hover { color: var(--color-cyan); }
        .tab-item.active {
            color: var(--color-cyan-bright);
            font-weight: bold;
        }

        .content-area {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
        }
        
        /* NEW: ANSI Art Background Style */
        .bbs-art-background {
            background-color: #2c313a; /* A slightly different dark grey */
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAYAAABytg0kAAAAAXNSR0IArs4c6QAAABNJREFUCB1jZGD4z8DAwMiAAwA1NQECJvJSOwAAAABJRU5ErkJggg==');
            background-repeat: repeat;
        }

        .dashboard-header {
            margin-bottom: 20px;
            padding-bottom: 5px;
            border-bottom: 1px solid var(--color-text-dim);
        }
        
        .dashboard-header .header-label { color: var(--color-cyan-dim); }
        .dashboard-header .header-highlight { color: var(--color-cyan); }
        #current-tenant-display { color: var(--color-white-bright) !important; font-weight: bold; }
        
        .status-section { margin-bottom: 25px; }
        .section-title { color: var(--color-cyan-dim); text-transform: uppercase; margin-bottom: 8px; }

        .metrics-table { color: var(--color-text-main); line-height: 1.6; }
        .metrics-wrapper { display: flex; flex-wrap: wrap; gap: 0 1.5em; line-height: 1.6; }
        .metrics-wrapper > span { white-space: pre; }

        .metric-label { color: var(--color-cyan); }
        .metric-value { color: var(--color-cyan-bright); }
        .metric-dim { color: var(--color-text-dim); }
        
        .activity-label { color: var(--color-cyan); }
        .activity-value { color: var(--color-white-bright); }
        
        .status-primed, .status-warmed { color: var(--color-yellow); }
        .status-ready, .status-online, .status-complete, .status-hot { color: var(--color-green); }
        .status-loading, .status-warming { color: var(--color-cyan-bright); }
        .status-offline, .status-error, .status-unavailable, .status-cold { color: var(--color-red); }

        .status-bar {
            background: transparent;
            border-top: 1px solid var(--color-text-dim);
            padding: 8px 20px;
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: var(--color-text-dim);
        }
        
        #status-bar-status.online { color: var(--color-green); }
        #status-bar-status.offline { color: var(--color-red); }

        .login-screen-wrapper {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .login-message { color: var(--color-purple-dim); margin: 20px 0; font-size: 16px; }
        .login-input { background: transparent; border: 1px solid var(--color-purple); color: var(--color-white-bright); padding: 8px 16px; font-family: inherit; font-size: 14px; margin-right: 10px; width: 250px; }
        .login-input:focus { outline: none; border-color: var(--color-cyan); }

        .sysop-button { background: transparent; border: none; color: var(--color-cyan); padding: 8px 0; font-family: inherit; font-size: 14px; cursor: pointer; transition: color 0.2s; }
        .sysop-button:hover { color: var(--color-cyan-bright); }

        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(33, 37, 43, 0.9); z-index: 1000; justify-content: center; align-items: center; }
        .modal-content { background: var(--color-bg-sidebar); border: 1px solid var(--color-cyan); padding: 20px 30px; min-width: 350px; }
        .tenant-option { color: var(--color-text-main); padding: 8px; cursor: pointer; margin: 2px 0; }
        .tenant-option:hover, .tenant-option.focused { background: var(--color-bg); color: var(--color-cyan-bright); }
        .tenant-option.active { color: var(--color-white-bright); }
        
        .progress-bar { display: inline-block; background-color: var(--color-text-dim); white-space: pre; }
        .progress-bar-fill { display: inline-block; height: 1em; background-color: var(--color-cyan); color: var(--color-bg); }
        
        .bbs-table-header { color: var(--color-cyan); border-bottom: 1px solid var(--color-text-dim); padding-bottom: 4px; margin-bottom: 8px; }
        
        @media (max-width: 820px) {
            body { font-size: 12px; }
            .logo-bar pre.logo { font-size: 10px; }
            .main-area { flex-direction: column; padding: 0 10px;}
            .sidebar { width: 100%; border-right: none; border-bottom: 1px solid var(--color-text-dim);}
            .status-bar { flex-direction: column; gap: 5px; text-align: center; }
        }
    </style>
</head>
<body>
    <div id="login-screen" class="login-screen-wrapper">
        <div class="logo-bar">
            <pre class="logo">  ▄██▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄██▄▄▄▄▄▄▄██▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄ ▄▄▄
  ██  ██ ██ ▀▀ ██ ██ ▀▀ ██ ██ ▀▀ ██ ▀▀ ██ ██ ▀▀ ██ ██
  ██  ██▀█▄ ██▀██ ██ ▄▄ ██ ▀▀▀██ ██ ██▀██ ██ ▄▄ ██▀█▄
  ██  ██ ██ ██▄██ ██▄██ ██ ██▄██ ██ ██▄██ ██▄██ ██ ██
    ▀▀                   ▀▀       ▀▀             ▀▀ ▀▀▀</pre>
            <div class="attribution">made by At Risk Media</div>
        </div>
        <div id="login-message" class="login-message">Initializing...</div>
        <div id="password-form" style="display: none;">
            <input type="password" id="password-input" class="login-input" placeholder="Enter SysOp password" />
            <button id="login-btn" class="sysop-button">[  submit  ]</button>
        </div>
        <div id="no-auth-form" style="display: none;">
            <button id="enter-btn" class="sysop-button">[  enter system  ]</button>
        </div>
    </div>

    <div id="app-wrapper">
        <div class="bbs-container">
            <div class="logo-bar">
            <pre class="logo">  ▄██▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄██▄▄▄▄▄▄▄██▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄ ▄▄▄
  ██  ██ ██ ▀▀ ██ ██ ▀▀ ██ ██ ▀▀ ██ ▀▀ ██ ██ ▀▀ ██ ██
  ██  ██▀█▄ ██▀██ ██ ▄▄ ██ ▀▀▀██ ██ ██▀██ ██ ▄▄ ██▀█▄
  ██  ██ ██ ██▄██ ██▄██ ██ ██▄██ ██ ██▄██ ██▄██ ██ ██
    ▀▀                   ▀▀       ▀▀             ▀▀ ▀▀▀</pre>
                <div class="attribution">made by At Risk Media</div>
            </div>

            <div class="main-area">
                <div class="sidebar">
                    <pre class="tab-menu">SYSOP MENU</pre>
                    <pre class="tab-item active" data-tab="dashboard">[ D ] Dashboard</pre>
                    <pre class="tab-item" data-tab="cache">[ C ] Cache</pre>
                    <pre class="tab-item" data-tab="analytics">[ A ] Analytics</pre>
                    <pre class="tab-item" data-tab="tenants">[ T ] Tenants</pre>
                    <pre class="tab-item" data-tab="logs">[ L ] Logs</pre>
                </div>

                <div class="content-area bbs-art-background">
                    <div id="tab-dashboard" class="tab-content">
                        <pre class="dashboard-header"><span class="header-label">SYSTEM STATUS - </span><span class="header-highlight">TENANT: </span><span id="current-tenant-display">default</span></pre>
                        <div class="status-section">
                            <pre class="section-title">CONNECTION</pre>
                            <pre id="connection-status" class="metrics-table">--</pre>
                        </div>
                        <div class="status-section">
                            <pre class="section-title">CACHE STATUS</pre>
                            <div id="cache-status" class="metrics-wrapper">--</div>
                        </div>
                        <div class="status-section">
                            <pre class="section-title">ACTIVITY</pre>
                            <div id="activity-metrics" class="metrics-wrapper">--</div>
                        </div>
                        <div class="status-section">
                            <pre class="section-title">ANALYTICS</pre>
                            <pre id="analytics-metrics" class="metrics-table">--</pre>
                        </div>
                    </div>
                    <div id="tab-cache" class="tab-content" style="display: none;">
                        <pre class="dashboard-header"><span class="header-label">CACHE DETAILS - </span><span class="header-highlight">TENANT: </span><span id="cache-tenant-display">default</span></pre>
                        <div id="cache-detail-table" class="metrics-table">Loading...</div>
                    </div>
                    <div id="tab-analytics" class="tab-content" style="display: none;">
                        <pre class="dashboard-header"><span class="header-label">ANALYTICS - </span><span class="header-highlight">TENANT: </span><span id="analytics-tenant-display">default</span></pre>
                        <div id="analytics-detail-table" class="metrics-table">Loading...</div>
                    </div>
                    <div id="tab-tenants" class="tab-content" style="display: none;">
                        <pre class="dashboard-header">TENANT MANAGEMENT</pre>
                        <pre id="tenants-list-display">Loading...</pre>
                    </div>
                    <div id="tab-logs" class="tab-content" style="display: none;">
                        <pre class="dashboard-header">SYSTEM LOGS</pre>
                        <pre>Live log streaming not yet implemented.</pre>
                    </div>
                </div>
            </div>

            <div class="status-bar">
                <pre>Last Poll: <span id="last-update">--:--:--</span>  Status: <span id="status-bar-status">CONNECTING</span></pre>
                <pre>TractStack SysOp v1.0</pre>
            </div>
        </div>
    </div>

    <div id="tenant-modal" class="modal-overlay">
        <div class="modal-content">
            <pre class="dashboard-header">SELECT TENANT</pre>
            <div id="tenant-list"></div>
            <pre style="margin-top: 15px; color: var(--color-text-dim); font-size: 12px;">Use [↑][↓] and [Enter], or number keys. [ESC] to cancel.</pre>
        </div>
    </div>
    <script src="app.js"></script>
</body>
</html>
